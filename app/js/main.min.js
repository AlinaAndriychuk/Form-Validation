"use strict";class FormValidation{constructor(s){this.form=s.form,this.minPassword=s.password,this.password=this.form.querySelector("#passwordToValidate"),this.email=this.form.querySelector("#emailToValidate"),this.phone=this.form.querySelector("#phoneToValidate"),this.addListener(this.form)}removeClass(s,t){s.classList.remove(t)}removeElement(s){s&&s.parentNode.removeChild(s)}findEmptyClassElement(s){this.removeClass(s.closest("label"),"is-emptyLabel"),this.removeClass(s,"is-empty"),this.removeElement(s.nextElementSibling)}addEmptyClass(s,t){const e=s.closest(".form__label");if(e){let s=document.createElement("p");s.classList.add("is-emptyTitle"),s.innerHTML=t,e.append(s),e.classList.add("is-emptyLabel")}s.classList.add("is-empty")}checkEmptyField(s,t){""===s.value&&t.addEmptyClass(s,"Fill this form")}validateEmail(s,t){const e=s.value;""===e?t.addEmptyClass(s,"Fill this form"):/^[-a-z0-9!#$%&'*+/=?^_`{|}~]+(\.[-a-z0-9!#$%&'*+/=?^_`{|}~]+)*@([a-z0-9]([-a-z0-9]{0,61}[a-z0-9])?\.)*(aero|arpa|asia|biz|cat|com|coop|edu|gov|info|int|jobs|mil|mobi|museum|name|net|org|pro|tel|travel|[a-z][a-z])$/.test(e)||t.addEmptyClass(s,"Email is not correct")}validatePhone(s,t){const e=s.value;""===e?t.addEmptyClass(s,"Fill this form"):/^\+[1-9]{1}[0-9]{3,14}$/.test(e)||t.addEmptyClass(s,"Phone number is not correct")}validatePassword(s,t){const e=s.value;""===e?t.addEmptyClass(s,"Fill this form"):e.split("").length<t.minPassword&&t.addEmptyClass(s,"Password must have minimum "+t.minPassword+" simbols.")}addBlurListener(s,t){s.addEventListener("blur",e=>{this.findEmptyClassElement(s),t(s,this)})}addListener(s){const t=s.querySelectorAll(".form__input");s.addEventListener("submit",s=>{s.preventDefault(),t.forEach(s=>{this.findEmptyClassElement(s)}),t.forEach(s=>{this.checkEmptyField(s,this)}),this.validateEmail(this.email,this),this.validatePhone(this.phone,this),this.validatePassword(this.password,this)}),t.forEach(s=>{this.addBlurListener(s,this.checkEmptyField)}),this.addBlurListener(this.email,this.validateEmail),this.addBlurListener(this.password,this.validatePassword),this.addBlurListener(this.phone,this.validatePhone)}}let form=document.querySelector("#formToValidate"),myFormValidetion=new FormValidation({form:form,password:4});